{
  "name": "json-log-parser",
  "jsEvalFn": "function transform(payload, bucketId, userId, headers) {\n  // Parse JSON log entries\n  let logData = payload;\n  \n  // If payload is a string, try to parse it\n  if (typeof payload === 'string') {\n    try {\n      logData = JSON.parse(payload);\n    } catch (e) {\n      // If parsing fails, treat as plain text\n      return {\n        title: 'Log Entry',\n        body: payload,\n        deliveryType: 'NORMAL'\n      };\n    }\n  }\n  \n  // Extract log level and message\n  const level = logData.level || logData.severity || 'INFO';\n  const message = logData.message || logData.msg || JSON.stringify(logData);\n  const timestamp = logData.timestamp || logData.time || new Date().toISOString();\n  \n  // Determine delivery type based on log level\n  let deliveryType = 'NORMAL';\n  if (level === 'ERROR' || level === 'FATAL' || level === 'CRITICAL') {\n    deliveryType = 'HIGH_PRIORITY';\n  } else if (level === 'WARN' || level === 'WARNING') {\n    deliveryType = 'NORMAL';\n  } else {\n    deliveryType = 'SILENT';\n  }\n  \n  // Build message\n  return {\n    title: `[${level}] Log Entry`,\n    subtitle: new Date(timestamp).toLocaleString(),\n    body: message,\n    deliveryType: deliveryType\n  };\n}",
  "requiredUserSettings": []
}
